# `common/` 폴더와 하위 폴더 및 파일의 역할

- **`common/`**: 애플리케이션 전반에서 재사용 가능한 공통 로직과 유틸리티를 포함. 모듈 간 중복 코드를 줄이고 일관성을 유지.

  - **`filters/`**: 전역 예외 처리를 위한 필터를 저장.

    - **`all-exceptions.filter.ts`**: 모든 예외를 캐치하여 표준화된 에러 응답을 반환. 예: HTTP 상태 코드와 메시지 포맷팅.

  - **`pipes/`**: 데이터 검증 및 변환을 위한 파이프를 저장.
    - **`validation.pipe.ts`**: 요청 데이터의 유효성을 검사하여 잘못된 입력을 차단. 예: DTO의 `class-validator` 규칙 적용.

---

# `config/` 폴더와 하위 폴더 및 파일의 역할

- **`config/`**: 애플리케이션의 환경 설정과 관련된 파일을 포함. 환경 변수 로드 및 설정을 중앙화하여 일관된 구성 관리.

  - **`env/`**: 환경 변수 로드와 관련된 설정을 저장.
    - **`index.ts`**: `@nestjs/config`를 사용해 `.env` 파일을 로드하고, 환경 변수를 전역적으로 사용 가능하도록 설정.

---

# `database/` 폴더와 하위 폴더 및 파일의 역할

- **`database/`**: 데이터베이스 설정, 마이그레이션, 초기 데이터 관리와 관련된 파일을 포함. 데이터베이스 연결과 스키마 관리를 중앙화.

  - **`migrations/`**: 데이터베이스 스키마 변경 이력을 저장.

    - _(빈 폴더)_: TypeORM CLI로 생성된 마이그레이션 파일이 저장됨. 예: 테이블 생성/수정 스크립트.

  - **`typeorm.config.ts`**: TypeORM과 MySQL 연결 설정을 정의. 데이터베이스 연결 정보(호스트, 포트, 사용자 등), 엔티티, 마이그레이션 경로, 동기화 옵션 등을 지정.

---

# `modules/` 폴더와 하위 폴더 및 파일의 역할

- **`modules/`**: 비즈니스 도메인별로 독립적인 모듈을 포함. 각 모듈은 특정 기능(예: 게시글, 댓글)을 처리하며, 모듈성을 강화.

  - **`posts/`**: 게시글(Posts) 관련 기능을 처리.

    - **`controllers/posts.controller.ts`**: HTTP 요청(CRUD)을 처리. 클라이언트 요청을 받아 서비스 로직 호출.
    - **`services/posts.service.ts`**: 게시글의 비즈니스 로직 구현. 데이터베이스 작업(생성, 조회, 수정, 삭제)을 수행.
    - **`dtos/create-post.dto.ts`**: 게시글 생성 요청 데이터의 구조와 유효성 검사 규칙 정의.
    - **`dtos/update-post.dto.ts`**: 게시글 수정 요청 데이터의 구조와 유효성 검사 규칙 정의.
    - **`entities/post.entity.ts`**: 게시글 데이터베이스 테이블 구조를 정의(TypeORM 엔티티).
    - **`posts.module.ts`**: 게시글 모듈 정의. 컨트롤러, 서비스, 엔티티를 등록하고 의존성 관리.

  - **`comments/`**: 댓글(Comments) 관련 기능을 처리.
    - **`controllers/comments.controller.ts`**: HTTP 요청(CRUD)을 처리. 클라이언트 요청을 받아 서비스 로직 호출.
    - **`services/comments.service.ts`**: 댓글의 비즈니스 로직 구현. 데이터베이스 작업(생성, 조회, 수정, 삭제)을 수행.
    - **`dtos/create-comment.dto.ts`**: 댓글 생성 요청 데이터의 구조와 유효성 검사 규칙 정의.
    - **`dtos/update-comment.dto.ts`**: 댓글 수정 요청 데이터의 구조와 유효성 검사 규칙 정의.
    - **`entities/comment.entity.ts`**: 댓글 데이터베이스 테이블 구조를 정의(TypeORM 엔티티).
    - **`comments.module.ts`**: 댓글 모듈 정의. 컨트롤러, 서비스, 엔티티를 등록하고 의존성 관리.

---

# `types/` 폴더와 하위 파일의 역할

- **`types/`**: 애플리케이션 전반에서 사용되는 공통 TypeScript 타입과 인터페이스를 포함. 타입 정의를 중앙화하여 일관성과 재사용성 보장.

  - **`index.ts`**: 전역적으로 사용되는 타입 정의를 저장. 예: 에러 응답 형식(`ResponseError`)을 정의하여 API 응답의 표준화된 구조 제공.

---

# `app.module.ts`와 `main.ts` 파일의 역할

- **`app.module.ts`**: 애플리케이션의 루트 모듈. 모든 모듈, 설정, 의존성을 통합하여 애플리케이션의 전체 구조를 정의.

  - 데이터베이스 설정(TypeORM), 환경 변수 설정(ConfigModule), 도메인 모듈(PostsModule, CommentsModule)을 등록.

- **`main.ts`**: 애플리케이션의 진입점. Nest.js 애플리케이션을 초기화하고 서버를 실행.
  - 글로벌 필터(AllExceptionsFilter)와 파이프(ValidationPipe)를 설정하여 예외 처리와 데이터 검증을 전역적으로 적용.
  - 서버 포트(예: 3000번)를 지정하고 애플리케이션 시작.

---

# 설치된 라이브러리들의 역할과 필요성

## Dependencies

- **`@nestjs/common` (^11.0.1)**:

  - **역할**: Nest.js 프레임워크의 핵심 유틸리티와 데코레이터 제공 (예: `@Controller`, `@Injectable`).
  - **필요성**: Nest.js 애플리케이션의 기본 구성 요소로, 모듈, 컨트롤러, 서비스 등을 정의하는 데 필수.

- **`@nestjs/config` (^4.0.2)**:

  - **역할**: 환경 변수 로드 및 관리 기능 제공. `.env` 파일 파싱 및 `ConfigService`로 접근.
  - **필요성**: 데이터베이스 연결 정보 등 환경별 설정을 안전하고 체계적으로 관리.

- **`@nestjs/core` (^11.0.1)**:

  - **역할**: Nest.js 애플리케이션의 핵심 로직 포함. 의존성 주입, 모듈 초기화, 앱 실행 담당.
  - **필요성**: 애플리케이션 실행과 모듈 통합의 핵심.

- **`@nestjs/platform-express` (^11.0.1)**:

  - **역할**: Express.js를 Nest.js의 HTTP 서버로 사용. HTTP 요청/응답 처리.
  - **필요성**: REST API 서버를 구현하기 위해 Express 기반의 웹 서버 기능 제공.

- **`@nestjs/typeorm` (^11.0.0)**:

  - **역할**: TypeORM을 Nest.js와 통합. 데이터베이스 연결 및 엔티티 관리 지원.
  - **필요성**: MySQL과 같은 데이터베이스 작업을 간소화하고, Nest.js 모듈과 통합.

- **`class-transformer` (^0.5.1)**:

  - **역할**: 객체를 특정 클래스(DTO)로 변환. 예: JSON 데이터를 DTO로 매핑.
  - **필요성**: 요청 데이터를 DTO로 변환하여 타입 안전성과 검증 로직 간소화.

- **`class-validator` (^0.14.1)**:

  - **역할**: DTO의 데이터 유효성 검사. 데코레이터 기반으로 입력값 검증 (예: `@IsString`).
  - **필요성**: 클라이언트 요청의 유효성을 보장하여 잘못된 데이터 처리 방지.

- **`mysql2` (^3.14.0)**:

  - **역할**: MySQL 데이터베이스와의 연결을 위한 드라이버.
  - **필요성**: TypeORM이 MySQL 데이터베이스와 통신하기 위해 필요.

- **`reflect-metadata` (^0.2.2)**:

  - **역할**: 데코레이터 기반 메타데이터를 지원. Nest.js와 TypeORM의 의존성 주입 및 엔티티 데코레이터에 사용.
  - **필요성**: Nest.js와 TypeORM의 데코레이터 기능 구현에 필수.

- **`rxjs` (^7.8.1)**:

  - **역할**: 반응형 프로그래밍을 위한 라이브러리. Nest.js 내부에서 비동기 작업 처리에 사용.
  - **필요성**: Nest.js의 일부 기능(예: 인터셉터, 가드)에서 비동기 스트림 처리.

- **`typeorm` (^0.3.22)**:
  - **역할**: 객체-관계 매핑(ORM) 라이브러리. 데이터베이스 작업(엔티티, 쿼리, 마이그레이션) 지원.
  - **필요성**: MySQL 데이터베이스의 테이블 관리와 CRUD 작업을 간소화.

## DevDependencies

- **`@eslint/eslintrc` (^3.2.0), `@eslint/js` (^9.18.0)**:

  - **역할**: ESLint 설정과 기본 규칙 제공. 코드 품질 및 일관성 검사.
  - **필요성**: 코드 스타일 통일과 잠재적 버그 탐지.

- **`@nestjs/cli` (^11.0.0)**:

  - **역할**: Nest.js 프로젝트 생성, 파일 생성, 빌드 명령 제공.
  - **필요성**: 개발 생산성 향상 및 프로젝트 구조 자동화.

- **`@nestjs/schematics` (^11.0.0)**:

  - **역할**: Nest.js CLI의 템플릿 생성 기능 지원.
  - **필요성**: 모듈, 컨트롤러 등 파일 생성 시 일관된 구조 보장.

- **`@nestjs/testing` (^11.0.1)**:

  - **역할**: Nest.js 애플리케이션의 단위 및 통합 테스트 지원.
  - **필요성**: 테스트 환경 설정 및 모듈 테스트에 필요.

- **`@swc/cli` (^0.6.0), `@swc/core` (^1.10.7)**:

  - **역할**: SWC를 사용한 빠른 TypeScript/JS 컴파일.
  - **필요성**: 빌드 및 개발 속도 향상.

- **`@types/express` (^5.0.0)**:

  - **역할**: Express.js의 TypeScript 타입 정의 제공.
  - **필요성**: Express 기반 코드에서 타입 안전성 보장.

- **`@types/jest` (^29.5.14)**:

  - **역할**: Jest 테스트 프레임워크의 TypeScript 타입 정의.
  - **필요성**: 테스트 코드 작성 시 타입 안전성 제공.

- **`@types/node` (^22.10.7)**:

  - **역할**: Node.js의 TypeScript 타입 정의.
  - **필요성**: Node.js API 사용 시 타입 안전성 보장.

- **`@types/supertest` (^6.0.2)**:

  - **역할**: Supertest의 TypeScript 타입 정의.
  - **필요성**: API 테스트 작성 시 타입 안전성 제공.

- **`@typescript-eslint/eslint-plugin` (^8.30.1), `@typescript-eslint/parser` (^8.30.1)**:

  - **역할**: TypeScript 코드용 ESLint 플러그인 및 파서.
  - **필요성**: TypeScript 코드의 린팅 및 오류 탐지.

- **`eslint` (^9.18.0)**:

  - **역할**: 코드 린팅 도구. 코드 품질 및 일관성 유지.
  - **필요성**: 코드 스타일 표준화 및 잠재적 오류 방지.

- **`eslint-config-prettier` (^10.0.1), `eslint-plugin-prettier` (^5.2.2)**:

  - **역할**: Prettier와 ESLint 통합. 코드 포맷팅과 린팅 충돌 방지.
  - **필요성**: 코드 포맷팅 자동화 및 일관성 유지.

- **`globals` (^16.0.0)**:

  - **역할**: ESLint에서 전역 변수 정의 제공.
  - **필요성**: 최신 환경(예: Node.js, 브라우저)의 전역 변수 인식.

- **`jest` (^29.7.0)**:

  - **역할**: 테스트 프레임워크. 단위 및 통합 테스트 실행.
  - **필요성**: 코드 신뢰성 검증 및 버그 방지.

- **`prettier` (^3.4.2)**:

  - **역할**: 코드 포맷팅 도구. 일관된 코드 스타일 적용.
  - **필요성**: 팀 내 코드 가독성과 일관성 유지.

- **`source-map-support` (^0.5.21)**:

  - **역할**: TypeScript 소스 맵 지원. 디버깅 시 원본 코드 매핑.
  - **필요성**: 컴파일된 코드 디버깅 용이성 제공.

- **`supertest` (^7.0.0)**:

  - **역할**: HTTP API 테스트 라이브러리. 엔드포인트 테스트 지원.
  - **필요성**: REST API 기능 검증.

- **`ts-jest` (^29.2.5)**:

  - **역할**: Jest에서 TypeScript 테스트 지원.
  - **필요성**: TypeScript 코드 테스트 환경 구성.

- **`ts-loader` (^9.5.2)**:

  - **역할**: Webpack에서 TypeScript 파일 로드.
  - **필요성**: Webpack 기반 빌드 시 TypeScript 지원.

- **`ts-node` (^10.9.2)**:

  - **역할**: TypeScript 코드를 컴파일 없이 실행.
  - **필요성**: 개발 중 빠른 스크립트 실행 및 디버깅.

- **`tsconfig-paths` (^4.2.0)**:

  - **역할**: `tsconfig.json`의 경로 별칭 지원.
  - **필요성**: 모듈 임포트 경로 간소화 및 가독성 향상.

- **`typescript` (^5.7.3)**:

  - **역할**: TypeScript 컴파일러. 타입 검사 및 JavaScript로 변환.
  - **필요성**: 타입 안전성과 개발 생산성 향상.

- **`typescript-eslint` (^8.20.0)**:
  - **역할**: TypeScript용 ESLint 통합 패키지.
  - **필요성**: TypeScript 코드 린팅 환경 최적화.

---

# `.env` 파일과 내용의 역할 및 설명

- **`.env`**: 환경 변수를 저장하는 파일. 민감한 설정 정보(데이터베이스 연결 정보 등)를 코드 외부에서 관리하여 보안성과 환경별 설정의 유연성을 제공.

## 내용과 각 설명

- **`DB_HOST=localhost`**:

  - **역할**: MySQL 데이터베이스 서버의 호스트 주소를 지정.
  - **설명**: 로컬 개발 환경에서는 `localhost`로 설정. 프로덕션에서는 실제 서버 IP 또는 도메인 사용.

- **`DB_PORT=3306`**:

  - **역할**: MySQL 데이터베이스 서버의 포트 번호를 지정.
  - **설명**: MySQL의 기본 포트는 `3306`. 다른 포트를 사용하는 경우 해당 값으로 변경.

- **`DB_USERNAME=root`**:

  - **역할**: MySQL 데이터베이스에 접근할 사용자 이름을 지정.
  - **설명**: 로컬에서는 `root`를 사용하나, 프로덕션에서는 보안 강화를 위해 전용 사용자 계정 설정 권장.

- **`DB_PASSWORD=yourpassword`**:

  - **역할**: MySQL 데이터베이스 사용자 계정의 비밀번호를 지정.
  - **설명**: 민감 정보로, 실제 비밀번호로 대체. `.env` 파일은 `.gitignore`에 추가해 소스코드에 포함되지 않도록 관리.

- **`DB_NAME=board_db`**:

  - **역할**: 사용할 MySQL 데이터베이스 이름을 지정.
  - **설명**: 게시판 데이터를 저장할 데이터베이스 이름. 예: `board_db`는 프로젝트 전용 데이터베이스.

- **`DB_SYNC=true`**:

  - **역할**: TypeORM의 스키마 동기화 여부를 설정.
  - **설명**: `true`로 설정 시 엔티티 기반으로 데이터베이스 스키마 자동 생성(개발 환경용). 프로덕션에서는 `false`로 설정하고 마이그레이션 사용.

- **`DB_LOGGING=true`**:
  - **역할**: TypeORM의 쿼리 로깅 활성화 여부를 설정.
  - **설명**: `true`로 설정 시 실행된 SQL 쿼리를 콘솔에 출력. 디버깅에 유용하나, 프로덕션에서는 성능을 위해 `false` 권장.
